# Google Auth Proxy Config File
# https://github.com/bitly/google_auth_proxy

http_address = "<%= @listen_addr %>:<%= @listen_port %>"

# the OAuth Redirect URL.
redirect_url = "https://<%= @app_name %>/oauth2/callback"

# the http url(s) of the upstream endpoint. If multiple, routing is based on path
upstreams = [
<% @upstreams.each do |upstream| %>
	"<%= upstream %>",
<% end %>
]

# pass HTTP Basic Auth, X-Forwarded-User and X-Forwarded-Email information to upstream
pass_basic_auth = <%= @pass_basic_auth %>

# Google Apps Domains to allow authentication for
google_apps_domains = [
<% @google_apps_domains.each do |gapp_domain| %>
	"<%= gapp_domain %>",
<% end %>
]


# The Google OAuth Client ID, Secret
client_id = "<%= @google_client_id %>"
client_secret = "<%= @google_client_secret %>"

# Authenticated Email Addresses File (one email per line)
authenticated_emails_file = "<%= @authenticated_emails_file %>"

## Htpasswd File (optional)
## Additionally authenticate against a htpasswd file. Entries must be created with "htpasswd -s" for SHA encryption
## enabling exposes a username/login signin form
# htpasswd_file = ""


## Cookie Settings
## Secret - the seed string for secure cookies
## Domain - optional cookie domain to force cookies to (ie: .yourcompany.com)
## Expire - expire timeframe for cookie
cookie_secret = "<%= @cookie_secret %>"
cookie_domain = "<%= @cookie_domain %>"
cookie_expire = "<%= @cookie_expire %>"
cookie_https_only = <%= @cookie_secure %>
